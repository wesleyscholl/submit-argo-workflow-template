# Submit Argo Workflow Template üóØÔ∏è‚û°Ô∏èüêô

## Submit an Argo workflow template from GitHub

## About

When triggered, this GitHub action submits an existing Argo workflow template.

## Usage

To use this github action in your workflow, add a step like this:

```yaml
      - name: Run Submit Argo Workflow Template
        id: submitworkflow
        uses: konjoinfinity/submit-argo-workflow-template@v1.0.x
        with:
          ARGO_URL: "https://localhost:2746" # Local environment example, or use your deployed argo workflow server url.
          ARGO_TEMPLATE: "my-argo-workflow" # The name of your argo workflow template to submit.
          ARGO_NAMESPACE: "my-argo-namespace" # The argo namespace (kubernetes namespace).
```     

##### Example Output

```json
{
  "markDiscussionCommentAsAnswer": {
    "clientMutationId": "1234",
    "discussion": { "id": "D_kwDOKczwv84AV0aF" }
  }
}
```

## Inputs

| Name | Type | Description | Requried? | Default |
| --- | --- | --- | --- | --- |
| `ARGO_URL` | String | The URL endpoint where your Argo Workflows instance is hosted. Example: `https://<your_url>.com/argo`. | **Yes** | N/A | 
| `ARGO_TEMPLATE` | String  | Argo workflow template name to be triggered. Syntax: `<name-of-argo-template>` (Example: `argo-workflow-template`) Ensure your workflow is already hosted on your argo workflows server, templates can be found under the templates tab in the Argo Workflows UI. | **Yes** | N/A |
| `ARGO_TOKEN` | String | The Argo Bearer Token which is passed in request authorization header. Example: `Authorization: Bearer Token v2:eyop...lrch` If your argo workflows server is configured with token authorization, a token is required to use this action. | **No** | N/A | 
| `ARGO_NAMESPACE` | String | The Argo namespace where your workflow template is hosted. Example: `<your-argo-namespace>` If your argo workflows server does not have a configured namespace the default is `argo`. | **No** | `argo` | 
| `ARGO_ENTRYPOINT` | String | The entrypoint for your Argo Workflow Template. Example: `<your_entrypoint>` | **No** | `default` |
| `ARGO_PARAMETERS` | Array[String] | An array of parameter strings to be passes to the Argo Workflows Template. Example: `["param1=hello", "param2=123"]` Syntax: `["<key>=<value>"]` | **No** | N/A |


## Request Body: JSON
```json
{                              
    "namespace": "<namespace-name>",
    "resourceKind": "WorkflowTemplate",
    "resourceName": "<workflow-template-name>",
    "submitOptions": {
        "entryPoint": "<workflow-entry-point>",
        "generateName": "<autogenerated-workflow-name>-",
        "parameters": ["param1=hello", "param2=123"]
    }
}
```

